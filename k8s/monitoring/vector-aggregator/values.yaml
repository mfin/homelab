app-template:
  controller:
    replicas: 3
    strategy: RollingUpdate
    annotations:
      reloader.stakater.com/auto: "true"
  image:
    # https://github.com/vectordotdev/vector/issues/6715
    repository: ghcr.io/onedr0p/vector
    tag: 0.32.0-debian
  args: ["--config", "/etc/vector/vector.yaml"]
  service:
    main:
      type: LoadBalancer
      externalTrafficPolicy: Local
      ports:
        http:
          port: 8686
        journald-logs:
          enabled: true
          port: 6000
        kubernetes-logs:
          enabled: true
          port: 6010
  persistence:
    config:
      enabled: true
      type: configMap
      name: vector-aggregator-configmap
      subPath: vector.yaml
      mountPath: /etc/vector/vector.yaml
      readOnly: true
    data:
      enabled: true
      type: emptyDir
      mountPath: /vector-data-dir
    geoip:
      enabled: true
      type: emptyDir
      mountPath: /usr/share/GeoIP
