traefik:
  additionalArguments:
    - "--providers.kubernetesingress.ingressendpoint.publishedservice=traefik/traefik"

  service:
    spec:
      externalTrafficPolicy: Local
    annotations:
      metallb.universe.tf/allow-shared-ip: traefik

  prometheus:
    serviceMonitor:
      enabled: true
    prometheusRule:
      enabled: true

  ports:
    mailsecure:
      port: 465
      expose: true
      exposedPort: 465
    web:
      redirectTo: websecure

  providers:
    kubernetesCRD:
      allowExternalNameServices: true
      allowEmptyServices: true
    kubernetesIngress:
      allowExternalNameServices: true
      allowEmptyServices: true
      publishedService:
        enabled: true
  logs:
    access:
      enabled: false
